!function(e){e.fn.markdownPreview=function(){return console.log(this),console.log(e(this)),this.each(function(){console.log(e(this));var a=e(this);console.log(a),a.wrap('<div class="markdown_wrap editing"></div>'),a.before('<div class="markdown_wrap_menu"><div class="markdown_wrap_menu_help">Help</div><div class="markdown_wrap_menu_edit">Write</div><div class="markdown_wrap_menu_preview">Preview</div></div>');var i=['<div class="content cheatsheet">',"<h2>Markdown Cheat Sheet</h2>",'<div class="cheatsheet-content">','<div class="mod">','<div class="col">',"<h3>Format Text</h3>","<p>Headers</p>","<pre># This is an &lt;h1&gt; tag","## This is an &lt;h2&gt; tag","###### This is an &lt;h6&gt; tag</pre>","    <p>Text styles</p>","    <pre>*This text will be italic*","_This will also be italic_","**This text will be bold**","__This will also be bold__","","*You **can** combine them*","</pre>","</div>",'<div class="col">',"<h3>Lists</h3>","<p>Unordered</p>","<pre>* Item 1","* Item 2","  * Item 2a","  * Item 2b</pre>","     <p>Ordered</p>","     <pre>1. Item 1","2. Item 2","3. Item 3","   * Item 3a","   * Item 3b</pre>","</div>",'<div class="col">',"<h3>Miscellaneous</h3>","<p>Images</p>","<pre>![GitHub Logo](/images/logo.png)","Format: ![Alt Text](url)","</pre>","<p>Links</p>","<pre>http://github.com - automatic!","[GitHub](http://github.com)</pre>","<p>Blockquotes</p>","<pre>As Kanye West said:","&gt; We're living the future so","&gt; the present is our past.","</pre>","</div>","</div>",'<div class="rule"></div>',"</div>","</div>"].join("\n");a.before('<div class="markdown_wrap_help">'+i+"</div>"),a.wrap('<div class="markdown_wrap_content"></div>'),a.after('<div class="markdown_wrap_preview"></div>'),a.wrap('<div class="markdown_wrap_editor"></div>'),e(".markdown_wrap_menu_help").on("click",function(){e(this).closest(".markdown_wrap").toggleClass("helping"),e(this).closest(".markdown_wrap").find(".markdown_wrap_help").slideToggle("fast")}),e(".markdown_wrap_menu_edit").on("click",function(){e(this).closest(".markdown_wrap").removeClass("previewing").addClass("editing"),e(this).closest(".markdown_wrap").find(".markdown_wrap_preview").hide(),e(this).closest(".markdown_wrap").find(".markdown_wrap_help").hide(),e(this).closest(".markdown_wrap").find(".markdown_wrap_editor").show()}),e(".markdown_wrap_menu_preview").on("click",function(){e(this).closest(".markdown_wrap").removeClass("editing").addClass("previewing"),e(this).closest(".markdown_wrap").find(".markdown_wrap_help").hide();var a=e(this).closest(".markdown_wrap").find(".markdown_wrap_editor"),i=e(this).closest(".markdown_wrap").find(".markdown_wrap_preview");i.html("Loading..."),a.hide(),i.show();var r=a.find("textarea").val();e.ajax({type:"POST",url:"/markdown_preview/convert",data:{format:"json",markdown_text:r},success:function(e){i.html(e.html)},error:function(){},dataType:"text json"})})})}}(jQuery),$(document).ready(function(){$(".markdown_preview").markdownPreview()});